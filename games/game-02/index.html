<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Space Trader</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Courier New', monospace;
      background: linear-gradient(135deg, #0c1445 0%, #1e1b4b 50%, #1e3a8a 100%);
      color: #e0e7ff;
      padding: 20px;
      min-height: 100vh;
      overflow-x: hidden;
    }
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s infinite;
    }
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
    .container {
      position: relative;
      z-index: 1;
      max-width: 1200px;
      margin: 0 auto;
    }
    h1 {
      text-align: center;
      font-size: 2.5em;
      margin-bottom: 10px;
      color: #60a5fa;
      text-shadow: 0 0 20px rgba(96, 165, 250, 0.5);
    }
    .subtitle {
      text-align: center;
      font-size: 1.1em;
      margin-bottom: 30px;
      color: #a5b4fc;
    }
    .game-area {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }
    @media (max-width: 768px) {
      .game-area { grid-template-columns: 1fr; }
    }
    .panel {
      background: rgba(30, 27, 75, 0.8);
      border: 2px solid #4c1d95;
      border-radius: 12px;
      padding: 20px;
      backdrop-filter: blur(10px);
      box-shadow: 0 0 30px rgba(124, 58, 237, 0.3);
    }
    .panel h2 {
      color: #fbbf24;
      margin-bottom: 15px;
      font-size: 1.5em;
      border-bottom: 2px solid #4c1d95;
      padding-bottom: 10px;
    }
    .stats {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }
    .stat-box {
      background: rgba(79, 70, 229, 0.2);
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #6366f1;
    }
    .stat-label {
      font-size: 0.9em;
      color: #a5b4fc;
      margin-bottom: 5px;
    }
    .stat-value {
      font-size: 1.5em;
      font-weight: bold;
      color: #60a5fa;
    }
    .location {
      background: rgba(34, 197, 94, 0.2);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border: 2px solid #10b981;
    }
    .location h3 {
      color: #10b981;
      margin-bottom: 10px;
    }
    .commodity {
      background: rgba(139, 92, 246, 0.2);
      padding: 12px;
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid #8b5cf6;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .commodity-info {
      flex: 1;
    }
    .commodity-name {
      font-weight: bold;
      color: #c4b5fd;
      font-size: 1.1em;
    }
    .commodity-price {
      color: #fbbf24;
      margin-top: 5px;
    }
    .commodity-actions {
      display: flex;
      gap: 10px;
    }
    button {
      background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.2s;
      font-family: 'Courier New', monospace;
    }
    button:hover:not(:disabled) {
      background: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(139, 92, 246, 0.4);
    }
    button:disabled {
      background: #4b5563;
      cursor: not-allowed;
      opacity: 0.5;
    }
    .travel-btn {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      width: 100%;
      padding: 15px;
      font-size: 1.1em;
      margin-top: 10px;
    }
    .travel-btn:hover:not(:disabled) {
      background: linear-gradient(135deg, #059669 0%, #047857 100%);
    }
    .cargo {
      margin-top: 15px;
    }
    .cargo-item {
      background: rgba(59, 130, 246, 0.2);
      padding: 10px;
      margin: 8px 0;
      border-radius: 6px;
      border: 1px solid #3b82f6;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .message {
      text-align: center;
      padding: 15px;
      background: rgba(34, 197, 94, 0.2);
      border: 2px solid #10b981;
      border-radius: 8px;
      color: #10b981;
      margin-bottom: 20px;
      font-weight: bold;
    }
    .message.error {
      background: rgba(239, 68, 68, 0.2);
      border-color: #ef4444;
      color: #ef4444;
    }
  </style>
</head>
<body>
  <div class="stars" id="stars"></div>
  
  <div class="container">
    <h1>üöÄ SPACE TRADER üöÄ</h1>
    <p class="subtitle">Navigate the galaxy, trade commodities, and build your fortune!</p>
    
    <div id="message"></div>

    <div class="game-area">
      <div class="panel">
        <h2>üìä Ship Status</h2>
        <div class="stats">
          <div class="stat-box">
            <div class="stat-label">üí∞ Credits</div>
            <div class="stat-value" id="credits">1000</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">‚õΩ Fuel</div>
            <div class="stat-value" id="fuel">100</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">üì¶ Cargo</div>
            <div class="stat-value"><span id="cargoUsed">0</span>/<span id="cargoMax">50</span></div>
          </div>
          <div class="stat-box">
            <div class="stat-label">üéØ Trades</div>
            <div class="stat-value" id="trades">0</div>
          </div>
        </div>

        <h2>üì¶ Your Cargo</h2>
        <div class="cargo" id="cargo">
          <p style="color: #6b7280; text-align: center;">Empty cargo hold</p>
        </div>
      </div>

      <div class="panel">
        <div class="location" id="location">
          <h3>üìç Current Location: <span id="planetName">Earth Station</span></h3>
        </div>

        <h2>üè™ Market Prices</h2>
        <div id="market"></div>

        <h2>üåå Travel</h2>
        <div id="planets"></div>
      </div>
    </div>
  </div>

  <script>
    // Game state
    let gameState = {
      credits: 1000,
      fuel: 100,
      cargo: {},
      cargoMax: 50,
      currentPlanet: 0,
      totalTrades: 0
    };

    const planets = [
      { name: 'Earth Station', fuelCost: 0 },
      { name: 'Mars Colony', fuelCost: 20 },
      { name: 'Jupiter Mining', fuelCost: 35 },
      { name: 'Saturn Outpost', fuelCost: 50 },
      { name: 'Titan Base', fuelCost: 45 }
    ];

    const commodities = [
      { name: 'Food', emoji: 'üçé', basePrice: 10, variance: 5 },
      { name: 'Water', emoji: 'üíß', basePrice: 8, variance: 4 },
      { name: 'Minerals', emoji: '‚õèÔ∏è', basePrice: 50, variance: 25 },
      { name: 'Tech Parts', emoji: 'üîß', basePrice: 100, variance: 50 },
      { name: 'Medicine', emoji: 'üíä', basePrice: 75, variance: 35 },
      { name: 'Fuel Cells', emoji: '‚ö°', basePrice: 30, variance: 15 }
    ];

    let marketPrices = {};

    // Initialize stars
    function createStars() {
      const starsEl = document.getElementById('stars');
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.width = star.style.height = Math.random() * 3 + 'px';
        star.style.animationDelay = Math.random() * 3 + 's';
        starsEl.appendChild(star);
      }
    }

    function generateMarketPrices() {
      marketPrices = {};
      commodities.forEach(comm => {
        const variation = (Math.random() - 0.5) * 2 * comm.variance;
        marketPrices[comm.name] = Math.max(1, Math.round(comm.basePrice + variation));
      });
    }

    function showMessage(text, isError = false) {
      const msgEl = document.getElementById('message');
      msgEl.textContent = text;
      msgEl.className = 'message' + (isError ? ' error' : '');
      msgEl.style.display = 'block';
      setTimeout(() => msgEl.style.display = 'none', 3000);
    }

    function updateDisplay() {
      document.getElementById('credits').textContent = gameState.credits.toLocaleString();
      document.getElementById('fuel').textContent = gameState.fuel;
      
      const cargoUsed = Object.values(gameState.cargo).reduce((sum, qty) => sum + qty, 0);
      document.getElementById('cargoUsed').textContent = cargoUsed;
      document.getElementById('cargoMax').textContent = gameState.cargoMax;
      document.getElementById('trades').textContent = gameState.totalTrades;
      document.getElementById('planetName').textContent = planets[gameState.currentPlanet].name;

      // Update cargo display
      const cargoEl = document.getElementById('cargo');
      if (Object.keys(gameState.cargo).length === 0) {
        cargoEl.innerHTML = '<p style="color: #6b7280; text-align: center;">Empty cargo hold</p>';
      } else {
        cargoEl.innerHTML = '';
        Object.entries(gameState.cargo).forEach(([item, qty]) => {
          const comm = commodities.find(c => c.name === item);
          const itemEl = document.createElement('div');
          itemEl.className = 'cargo-item';
          itemEl.innerHTML = `
            <span>${comm.emoji} ${item}: ${qty}</span>
            <button onclick="sell('${item}', 1)">Sell 1</button>
          `;
          cargoEl.appendChild(itemEl);
        });
      }

      // Update market
      const marketEl = document.getElementById('market');
      marketEl.innerHTML = '';
      commodities.forEach(comm => {
        const price = marketPrices[comm.name];
        const commEl = document.createElement('div');
        commEl.className = 'commodity';
        commEl.innerHTML = `
          <div class="commodity-info">
            <div class="commodity-name">${comm.emoji} ${comm.name}</div>
            <div class="commodity-price">üí∞ ${price} credits/unit</div>
          </div>
          <div class="commodity-actions">
            <button onclick="buy('${comm.name}', 1)">Buy 1</button>
            <button onclick="buy('${comm.name}', 5)">Buy 5</button>
          </div>
        `;
        marketEl.appendChild(commEl);
      });

      // Update travel options
      const planetsEl = document.getElementById('planets');
      planetsEl.innerHTML = '';
      planets.forEach((planet, idx) => {
        if (idx !== gameState.currentPlanet) {
          const btn = document.createElement('button');
          btn.className = 'travel-btn';
          btn.textContent = `üöÄ Travel to ${planet.name} (‚õΩ${planet.fuelCost} fuel)`;
          btn.onclick = () => travel(idx);
          btn.disabled = gameState.fuel < planet.fuelCost;
          planetsEl.appendChild(btn);
        }
      });
    }

    function buy(commodity, quantity) {
      const price = marketPrices[commodity];
      const totalCost = price * quantity;
      const cargoUsed = Object.values(gameState.cargo).reduce((sum, qty) => sum + qty, 0);
      
      if (gameState.credits < totalCost) {
        showMessage('Not enough credits!', true);
        return;
      }
      if (cargoUsed + quantity > gameState.cargoMax) {
        showMessage('Not enough cargo space!', true);
        return;
      }
      
      gameState.credits -= totalCost;
      gameState.cargo[commodity] = (gameState.cargo[commodity] || 0) + quantity;
      gameState.totalTrades++;
      showMessage(`Bought ${quantity} ${commodity} for ${totalCost} credits`);
      updateDisplay();
    }

    function sell(commodity, quantity) {
      if (!gameState.cargo[commodity] || gameState.cargo[commodity] < quantity) {
        showMessage('Not enough in cargo!', true);
        return;
      }
      
      const price = marketPrices[commodity];
      const totalValue = price * quantity;
      
      gameState.credits += totalValue;
      gameState.cargo[commodity] -= quantity;
      if (gameState.cargo[commodity] === 0) {
        delete gameState.cargo[commodity];
      }
      gameState.totalTrades++;
      showMessage(`Sold ${quantity} ${commodity} for ${totalValue} credits`);
      updateDisplay();
    }

    function travel(planetIndex) {
      const planet = planets[planetIndex];
      if (gameState.fuel < planet.fuelCost) {
        showMessage('Not enough fuel!', true);
        return;
      }
      
      gameState.fuel -= planet.fuelCost;
      gameState.currentPlanet = planetIndex;
      generateMarketPrices();
      
      // Refuel at station
      if (gameState.credits >= 50 && gameState.fuel < 50) {
        const refuelAmount = Math.min(100 - gameState.fuel, Math.floor(gameState.credits / 0.5));
        gameState.fuel += refuelAmount;
        gameState.credits -= refuelAmount * 0.5;
        showMessage(`Traveled to ${planet.name}. Auto-refueled ${refuelAmount} units.`);
      } else {
        showMessage(`Traveled to ${planet.name}!`);
      }
      
      updateDisplay();
    }

    // Initialize game
    createStars();
    generateMarketPrices();
    updateDisplay();
  </script>
</body>
</html>
